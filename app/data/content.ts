/* eslint-disable */
// @ts-nocheck

/* =======================================================================================
   üß† CONTENT FACTORY : DONN√âES ET LOGIQUE P√âDAGOGIQUE ENRICHIE
   ======================================================================================= */

export const DATA_BANK = {
  verbs: [
    // --- NIVEAU A1/A2 (Vie quotidienne) ---
    { es: "Comer", en: "Manger", yo: "Como", tu: "Comes", el: "Come", nos: "Comemos", vos: "Com√©is", ellos: "Comen" },
    { es: "Vivir", en: "Vivre", yo: "Vivo", tu: "Vives", el: "Vive", nos: "Vivimos", vos: "Viv√≠s", ellos: "Viven" },
    { es: "Beber", en: "Boire", yo: "Bebo", tu: "Bebes", el: "Bebe", nos: "Bebemos", vos: "Beb√©is", ellos: "Beben" },
    { es: "Leer", en: "Lire", yo: "Leo", tu: "Lees", el: "Lee", nos: "Leemos", vos: "Le√©is", ellos: "Leen" },
    { es: "Escribir", en: "√âcrire", yo: "Escribo", tu: "Escribes", el: "Escribe", nos: "Escribimos", vos: "Escrib√≠s", ellos: "Escriben" },
    { es: "Correr", en: "Courir", yo: "Corro", tu: "Corres", el: "Corre", nos: "Corremos", vos: "Corr√©is", ellos: "Corren" },
    { es: "Caminar", en: "Marcher", yo: "Camino", tu: "Caminas", el: "Camina", nos: "Caminamos", vos: "Camin√°is", ellos: "Caminan" },
    { es: "Dormir", en: "Dormir", yo: "Duermo", tu: "Duermes", el: "Duerme", nos: "Dormimos", vos: "Dorm√≠s", ellos: "Duermen" },
    { es: "Jugar", en: "Jouer", yo: "Juego", tu: "Juegas", el: "Juega", nos: "Jugamos", vos: "Jug√°is", ellos: "Juegan" },
    { es: "Escuchar", en: "√âcouter", yo: "Escucho", tu: "Escuchas", el: "Escucha", nos: "Escuchamos", vos: "Escuch√°is", ellos: "Escuchan" },
    { es: "Mirar", en: "Regarder", yo: "Miro", tu: "Miras", el: "Mira", nos: "Miramos", vos: "Mir√°is", ellos: "Miran" },
    { es: "Amar", en: "Aimer", yo: "Amo", tu: "Amas", el: "Ama", nos: "Amamos", vos: "Am√°is", ellos: "Aman" },
    { es: "Viajar", en: "Voyager", yo: "Viajo", tu: "Viajas", el: "Viaja", nos: "Viajamos", vos: "Viaj√°is", ellos: "Viajan" },
    { es: "Trabajar", en: "Travailler", yo: "Trabajo", tu: "Trabajas", el: "Trabaja", nos: "Trabajamos", vos: "Trabaj√°is", ellos: "Trabajan" },
    { es: "Estudiar", en: "√âtudier", yo: "Estudio", tu: "Estudias", el: "Estudia", nos: "Estudiamos", vos: "Estudi√°is", ellos: "Estudian" },
    { es: "Comprar", en: "Acheter", yo: "Compro", tu: "Compras", el: "Compra", nos: "Compramos", vos: "Compr√°is", ellos: "Compran" },
    { es: "Abrir", en: "Ouvrir", yo: "Abro", tu: "Abres", el: "Abre", nos: "Abrimos", vos: "Abr√≠s", ellos: "Abren" },
    { es: "Cerrar", en: "Fermer", yo: "Cierro", tu: "Cierras", el: "Cierra", nos: "Cerramos", vos: "Cerr√°is", ellos: "Cierran" },
    
    // --- NIVEAU B1/B2 ---
    { es: "Pensar", en: "Penser", yo: "Pienso", tu: "Piensas", el: "Piensa", nos: "Pensamos", vos: "Pens√°is", ellos: "Piensan" },
    { es: "Creer", en: "Croire", yo: "Creo", tu: "Crees", el: "Cree", nos: "Creemos", vos: "Cre√©is", ellos: "Creen" },
    { es: "Sentir", en: "Sentir", yo: "Siento", tu: "Sientes", el: "Siente", nos: "Sentimos", vos: "Sent√≠s", ellos: "Sienten" },
    { es: "Pedir", en: "Demander", yo: "Pido", tu: "Pides", el: "Pide", nos: "Pedimos", vos: "Ped√≠s", ellos: "Piden" },
    { es: "Entender", en: "Comprendre", yo: "Entiendo", tu: "Entiendes", el: "Entiende", nos: "Entendemos", vos: "Entend√©is", ellos: "Entienden" },
    { es: "Recordar", en: "Se souvenir", yo: "Recuerdo", tu: "Recuerdas", el: "Recuerda", nos: "Recordamos", vos: "Record√°is", ellos: "Recuerdan" },
    { es: "Conseguir", en: "Obtenir", yo: "Consigo", tu: "Consigues", el: "Consigue", nos: "Conseguimos", vos: "Consegu√≠s", ellos: "Consiguen" },
    { es: "Elegir", en: "Choisir", yo: "Elijo", tu: "Eliges", el: "Elige", nos: "Elegimos", vos: "Eleg√≠s", ellos: "Eligen" },
    
    // --- NIVEAU C1 ---
    { es: "Analizar", en: "Analyser", yo: "Analizo", tu: "Analizas", el: "Analiza", nos: "Analizamos", vos: "Analiz√°is", ellos: "Analizan" },
    { es: "Debatir", en: "D√©battre", yo: "Debato", tu: "Debates", el: "Debate", nos: "Debatimos", vos: "Debat√≠s", ellos: "Debaten" },
    { es: "Influir", en: "Influencer", yo: "Influyo", tu: "Influyes", el: "Influye", nos: "Influimos", vos: "Influ√≠s", ellos: "Influyen" },
    { es: "Deducir", en: "D√©duire", yo: "Deduzco", tu: "Deduces", el: "Deduce", nos: "Deducimos", vos: "Deduc√≠s", ellos: "Deducen" },
    { es: "Suponer", en: "Supposer", yo: "Supongo", tu: "Supones", el: "Supone", nos: "Suponemos", vos: "Supon√©is", ellos: "Suponen" },
    { es: "Convencer", en: "Convaincre", yo: "Convenzo", tu: "Convences", el: "Convence", nos: "Convencemos", vos: "Convenc√©is", ellos: "Convencen" },
    { es: "Prever", en: "Pr√©voir", yo: "Preveo", tu: "Prever", el: "Prev√©", nos: "Prevemos", vos: "Prev√©is", ellos: "Prev√©n" },
    { es: "Exigir", en: "Exiger", yo: "Exijo", tu: "Exiges", el: "Exige", nos: "Exigimos", vos: "Exig√≠s", ellos: "Exigen" }
  ],

  nouns: [
    { es: "El libro", en: "Le livre" }, { es: "La casa", en: "La maison" },
    { es: "El coche", en: "La voiture" }, { es: "La ciudad", en: "La ville" },
    { es: "El amigo", en: "L'ami" }, { es: "La playa", en: "La plage" },
    { es: "El tiempo", en: "Le temps" }, { es: "El trabajo", en: "Le travail" },
    { es: "La comida", en: "La nourriture" }, { es: "El dinero", en: "L'argent" },
    { es: "El mundo", en: "Le monde" }, { es: "La m√∫sica", en: "La musique" },
    { es: "La familia", en: "La famille" }, { es: "El agua", en: "L'eau" },
    { es: "La escuela", en: "L'√©cole" }, { es: "El sol", en: "Le soleil" },
    { es: "La noche", en: "La nuit" }, { es: "El problema", en: "Le probl√®me" },
    { es: "El gobierno", en: "Le gouvernement" }, { es: "La salud", en: "La sant√©" },
    { es: "La empresa", en: "L'entreprise" }, { es: "El √©xito", en: "Le succ√®s" },
    { es: "La guerra", en: "La guerre" }, { es: "La paz", en: "La paix" },
    { es: "El medio ambiente", en: "L'environnement" }, { es: "La tecnolog√≠a", en: "La technologie" },
    { es: "La libertad", en: "La libert√©" }, { es: "El derecho", en: "Le droit" },
    { es: "La cultura", en: "La culture" }, { es: "El futuro", en: "L'avenir" },
    { es: "La duda", en: "Le doute" }, { es: "La raz√≥n", en: "La raison" },
    { es: "La paradoja", en: "Le paradoxe" }, { es: "El matiz", en: "La nuance" },
    { es: "La hip√≥tesis", en: "L'hypoth√®se" }, { es: "La iron√≠a", en: "L'ironie" },
    { es: "El fen√≥meno", en: "Le ph√©nom√®ne" }, { es: "La tendencia", en: "La tendance" },
    { es: "La controversia", en: "La controverse" }, { es: "La perspectiva", en: "La perspective" },
    { es: "El contexto", en: "Le contexte" }, { es: "La infraestructura", en: "L'infrastructure" },
    { es: "La diversidad", en: "La diversit√©" }, { es: "El paradigma", en: "Le paradigme" }
  ],

  adjectives: [
    { es: "Grande", en: "Grand" }, { es: "Peque√±o", en: "Petit" },
    { es: "Bueno", en: "Bon" }, { es: "Malo", en: "Mauvais" },
    { es: "Nuevo", en: "Nouveau" }, { es: "Viejo", en: "Vieux" },
    { es: "R√°pido", en: "Rapide" }, { es: "Lento", en: "Lent" },
    { es: "Feliz", en: "Heureux" }, { es: "Triste", en: "Triste" },
    { es: "F√°cil", en: "Facile" }, { es: "Dif√≠cil", en: "Difficile" },
    { es: "Interesante", en: "Int√©ressant" }, { es: "Importante", en: "Important" },
    { es: "Peligroso", en: "Dangereux" }, { es: "Seguro", en: "S√ªr" },
    { es: "Sostenible", en: "Durable" }, { es: "Justo", en: "Juste" },
    { es: "Necesario", en: "N√©cessaire" }, { es: "Posible", en: "Possible" },
    { es: "Inevitable", en: "In√©vitable" }, { es: "Eficaz", en: "Efficace" },
    { es: "Subjetivo", en: "Subjectif" }, { es: "Ambiguo", en: "Ambigu" },
    { es: "Sutil", en: "Subtil" }, { es: "Ef√≠mero", en: "√âph√©m√®re" },
    { es: "Trascendental", en: "Transcendantal" }, { es: "Pol√©mico", en: "Pol√©mique" }
  ],

  connectors: [
    { es: "Pero", en: "Mais" }, { es: "Y", en: "Et" }, { es: "O", en: "Ou" },
    { es: "Porque", en: "Parce que" }, { es: "Cuando", en: "Quand" },
    { es: "Si", en: "Si" }, { es: "Tambi√©n", en: "Aussi" },
    { es: "Aunque", en: "Bien que" }, { es: "Sin embargo", en: "Cependant" },
    { es: "Por lo tanto", en: "Par cons√©quent" }, { es: "Adem√°s", en: "De plus" },
    { es: "En cambio", en: "En revanche" }, { es: "Por eso", en: "C'est pour √ßa que" },
    { es: "No obstante", en: "N√©anmoins" }, { es: "Por el contrario", en: "Au contraire" },
    { es: "En consecuencia", en: "En cons√©quence" }, { es: "A pesar de", en: "Malgr√©" },
    { es: "Dado que", en: "√âtant donn√© que" }, { es: "A fin de que", en: "Afin que" }
  ],

  tips: [
    "En espagnol, le 'H' est toujours muet ! (Hola = Ola)",
    "Les points d'interrogation se mettent aussi au d√©but : ¬ø ?",
    "Le 'V' se prononce presque comme un 'B' doux.",
    "Le 'RR' roul√© est typique : mets ta langue sur le palais.",
    "Le 'LL' se prononce comme un 'Y' (Paella = Pa-√©-ya).",
    "Por = Cause (pour) / Para = But (pour). C'est le pi√®ge classique !",
    "Ser = Identit√© permanente / Estar = √âtat temporaire.",
    "Les adjectifs se placent g√©n√©ralement APRES le nom.",
    "Le sujet (Yo, T√∫) est souvent omis car le verbe suffit.",
    "Gustar s'accorde avec ce qu'on aime, pas avec la personne !",
    "En Espagne, on mange tard : d√©jeuner √† 14h, d√Æner √† 21h !",
    "Le tutoiement (Tuteo) est tr√®s fr√©quent, m√™me avec des inconnus.",
    "En Am√©rique Latine, 'Vosotros' n'existe pas, on utilise 'Ustedes'.",
    "La 'Siesta' est un clich√©, mais la pause de 14h √† 16h est r√©elle.",
    "Il y a 4 langues officielles en Espagne (Castillan, Catalan, Basque, Galicien)."
  ]
};

export const CURRICULUM_LOGIC = {
  A1: [
    { topic: "Bases & Salutations", grammar: "Pr√©sent (Ser)" }, { topic: "La Famille", grammar: "Possession" },
    { topic: "Ma Routine", grammar: "Verbes -AR" }, { topic: "Mes Go√ªts", grammar: "Gustar" },
    { topic: "Projets de Voyage", grammar: "Futur Proche" }, { topic: "Ma Ville", grammar: "Hay (Il y a)" },
    { topic: "Shopping & V√™tements", grammar: "Adjectifs" }, { topic: "La Maison", grammar: "Estar (Lieu)" },
    { topic: "Le Corps Humain", grammar: "Avoir mal" }, { topic: "La Nourriture", grammar: "Imp√©ratif (Tu)" },
    { topic: "Les Animaux", grammar: "Genre & Nombre" }, { topic: "La M√©t√©o", grammar: "Verbe Hacer" },
    { topic: "L'√âcole", grammar: "Fournitures" }, { topic: "Les Loisirs", grammar: "Jugar (Jouer)" },
    { topic: "Les Amis", grammar: "Ser vs Estar" }, { topic: "Les √âmotions", grammar: "Estar + Adj" },
    { topic: "Les Saisons", grammar: "Comparatifs" }, { topic: "La Nature", grammar: "D√©monstratifs" },
    { topic: "Poser des Questions", grammar: "Interrogatifs" }, { topic: "Bilan A1", grammar: "R√©vision Globale" }
  ],
  A2: [
    { topic: "Raconter le Pass√©", grammar: "Pass√© Compos√©" }, { topic: "Souvenirs d'Enfance", grammar: "Imparfait" },
    { topic: "Futur & Avenir", grammar: "Futur Simple" }, { topic: "Comparaisons", grammar: "Superlatifs" },
    { topic: "Obligations", grammar: "Tener que / Deber" }, { topic: "Sant√© & M√©decin", grammar: "Imp√©ratif (Vous)" },
    { topic: "Au Restaurant", grammar: "Politesse" }, { topic: "R√©servation H√¥tel", grammar: "Conditionnel (Je)" },
    { topic: "La Banque", grammar: "Chiffres √©lev√©s" }, { topic: "La Poste", grammar: "COD (Lo/La)" },
    { topic: "Urgences", grammar: "Imp√©ratif N√©gatif" }, { topic: "F√™tes & Traditions", grammar: "Pass√© Simple" },
    { topic: "La Sieste", grammar: "Habitudes" }, { topic: "Orientation", grammar: "Pr√©positions" },
    { topic: "Action en cours", grammar: "G√©rondif" }, { topic: "Sentiments", grammar: "Subjonctif (Intro)" },
    { topic: "Musique & Cin√©ma", grammar: "Opinion" }, { topic: "Internet", grammar: "Verbes Techno" },
    { topic: "Voyage (Avion)", grammar: "Vocabulaire" }, { topic: "Bilan A2", grammar: "Validation" }
  ],
  B1: [
    { topic: "Exprimer l'Opinion", grammar: "Subjonctif Pr√©sent" }, { topic: "Hypoth√®ses", grammar: "Conditionnel" },
    { topic: "Rapporter un Discours", grammar: "Style Indirect" }, { topic: "Relations Sociales", grammar: "Por vs Para" },
    { topic: "L'Environnement", grammar: "Futur Ant√©rieur" }, { topic: "La Technologie", grammar: "Avantages/Inconv√©nients" },
    { topic: "Le Monde du Travail", grammar: "CV & Lettre" }, { topic: "La Politique", grammar: "D√©bat" },
    { topic: "La Justice", grammar: "Vocabulaire Juridique" }, { topic: "L'√âconomie", grammar: "Chiffres & Trends" },
    { topic: "L'Art & Culture", grammar: "Description" }, { topic: "La Litt√©rature", grammar: "Pass√© Simple (Avanc√©)" },
    { topic: "L'Histoire", grammar: "Concordance temps" }, { topic: "La G√©ographie", grammar: "R√©gions" },
    { topic: "La Soci√©t√©", grammar: "√âgalit√©/Droits" }, { topic: "La Science", grammar: "Futur Proche" },
    { topic: "Les M√©dias", grammar: "Connecteurs Logiques" }, { topic: "Psychologie", grammar: "Verbes de changement" },
    { topic: "Philosophie", grammar: "Abstrait" }, { topic: "Bilan B1", grammar: "Ma√Ætrise" }
  ],
  B2: [
    { topic: "Si j'√©tais...", grammar: "Subjonctif Imparfait" }, { topic: "Regrets", grammar: "Conditionnel Pass√©" },
    { topic: "Faits Divers", grammar: "Voix Passive" }, { topic: "Rumeurs", grammar: "Discours Rapport√© (Pass√©)" },
    { topic: "Sant√© Avanc√©e", grammar: "Expressions Corps" }, { topic: "Changements d'√âtat", grammar: "Ponerse / Quedarse" },
    { topic: "Nuances", grammar: "Por vs Para (Subtil)" }, { topic: "Pr√©cision", grammar: "Pronoms Relatifs (Cuyo)" },
    { topic: "Projets Futurs", grammar: "Futur Ant√©rieur" }, { topic: "R√©cit Complexe", grammar: "Plus-que-parfait" },
    { topic: "Sentiments", grammar: "Verbes Pr√©positionnels" }, { topic: "Argumentation", grammar: "Concession (Bien que)" },
    { topic: "Doute & Probabilit√©", grammar: "Deber de / Quiz√°s" }, { topic: "Habitudes Pass√©es", grammar: "Soler + Infinitif" },
    { topic: "G√©n√©ralit√©s", grammar: "Le Neutre (Lo)" }, { topic: "Nuances de Taille", grammar: "Diminutifs (-ito)" },
    { topic: "Business", grammar: "N√©gociation" }, { topic: "√âcologie", grammar: "D√©bat & Solutions" },
    { topic: "Humour & Ironie", grammar: "Double Sens" }, { topic: "Bilan B2", grammar: "Fluidit√© Totale" }
  ],
  C1: [
    { topic: "Subtilit√©s", grammar: "Subjonctif (Nuances)" }, { topic: "Langage Soutenu", grammar: "Registres de langue" },
    { topic: "Expressions Idiomatiques", grammar: "Sens Figur√©" }, { topic: "Argot & Rue", grammar: "Langage Familier" },
    { topic: "Accents & R√©gions", grammar: "Esp vs Latam" }, { topic: "Litt√©rature", grammar: "Style Romanesque" },
    { topic: "Philosophie", grammar: "Concepts Abstraits" }, { topic: "M√©decine", grammar: "Termes Techniques" },
    { topic: "Juridique", grammar: "Langage de Loi" }, { topic: "Histoire d'Espagne", grammar: "Civilisation" },
    { topic: "Am√©rique Latine", grammar: "Culture Sp√©cifique" }, { topic: "Rh√©torique", grammar: "Connecteurs Complexes" },
    { topic: "Emphase", grammar: "Double N√©gation" }, { topic: "Transformation", grammar: "Verbes Complexes" },
    { topic: "Faux Amis", grammar: "Pi√®ges Courants" }, { topic: "Sagesse Populaire", grammar: "Proverbes" },
    { topic: "Presse & M√©dia", grammar: "Analyse" }, { topic: "R√©daction", grammar: "Style Acad√©mique" },
    { topic: "Bilinguisme", grammar: "Perfectionnement" }, { topic: "BILAN FINAL C1", grammar: "Expertise" }
  ]
};

export const CONTENT_PART_1 = {
  1: [
    { id: 101, type: "swipe", es: "Hola", en: "Bonjour", context: "Salutation universelle" },
    { id: 102, type: "grammar", title: "√ätre (Ser)", description: "Identit√© & Origine", conjugation: [{ pronoun: "Yo", verb: "soy", fr: "Je suis" }, { pronoun: "T√∫", verb: "eres", fr: "Tu es" }] },
    { id: 103, type: "input", question: "Traduis 'Je suis'", answer: ["yo soy", "soy"], hint: "Verbe Ser" },
    { id: 104, type: "structure", title: "La Phrase Simple", formula: "Sujet + Verbe", example: "Soy Pablo", note: "Le sujet est souvent omis." },
    { id: 105, type: "swipe", es: "Gracias", en: "Merci", context: "Politesse" },
    { id: 106, type: "swipe", es: "Adi√≥s", en: "Au revoir", context: "D√©part" }
  ],
  2: [
    { id: 201, type: "swipe", es: "La familia", en: "La famille", context: "Groupe social" },
    { id: 202, type: "grammar", title: "Avoir (Tener)", description: "Possession", conjugation: [{ pronoun: "Yo", verb: "tengo", fr: "J'ai" }, { pronoun: "T√∫", verb: "tienes", fr: "Tu as" }] },
    { id: 203, type: "input", question: "J'ai", answer: ["tengo"], hint: "T..." },
    { id: 204, type: "swipe", es: "Madre", en: "M√®re", context: "Parent" },
    { id: 205, type: "swipe", es: "Padre", en: "P√®re", context: "Parent" },
    { id: 206, type: "structure", title: "Possession", formula: "Mi + Nom", example: "Mi casa", note: "Pas d'article devant" }
  ],
  3: [
    { id: 301, type: "grammar", title: "Verbes -AR", description: "Pr√©sent", conjugation: [{ pronoun: "Yo", verb: "-o", fr: "o" }, { pronoun: "T√∫", verb: "-as", fr: "as" }] },
    { id: 302, type: "swipe", es: "Hablar", en: "Parler", context: "Verbe r√©gulier" },
    { id: 303, type: "swipe", es: "Trabajar", en: "Travailler", context: "Job" },
    { id: 304, type: "input", question: "Je parle", answer: ["hablo"], hint: "Terminaison -o" },
    { id: 305, type: "structure", title: "N√©gation", formula: "No + Verbe", example: "No hablo", note: "No se place avant" }
  ],
  4: [
    { id: 401, type: "swipe", es: "La comida", en: "La nourriture", context: "Repas" },
    { id: 402, type: "grammar", title: "Gustar (Aimer)", description: "√áa me pla√Æt", conjugation: [{ pronoun: "Sing", verb: "Me gusta", fr: "J'aime" }, { pronoun: "Plur", verb: "Me gustan", fr: "J'aime les..." }] },
    { id: 403, type: "input", question: "J'aime le pain", answer: ["me gusta el pan"], hint: "Me g..." },
    { id: 404, type: "swipe", es: "El agua", en: "L'eau", context: "Boisson" },
    { id: 405, type: "swipe", es: "Comer", en: "Manger", context: "Verbe -ER" }
  ],
  5: [
    { id: 501, type: "swipe", es: "Uno, Dos, Tres", en: "1, 2, 3", context: "Compter" },
    { id: 502, type: "grammar", title: "L'heure", description: "Ser + Las", conjugation: [{ pronoun: "2h-12h", verb: "Son las...", fr: "Il est..." }, { pronoun: "1h", verb: "Es la una", fr: "Il est 1h" }] },
    { id: 503, type: "input", question: "Il est deux heures", answer: ["son las dos"], hint: "Son..." },
    { id: 504, type: "swipe", es: "Hoy", en: "Aujourd'hui", context: "Temps" },
    { id: 505, type: "swipe", es: "Ma√±ana", en: "Demain", context: "Futur" }
  ],
  6: [
    { id: 601, type: "swipe", es: "La ciudad", en: "La ville", context: "Lieu" },
    { id: 602, type: "grammar", title: "Aller (Ir)", description: "Irr√©gulier", conjugation: [{ pronoun: "Yo", verb: "voy", fr: "Je vais" }, { pronoun: "T√∫", verb: "vas", fr: "Tu vas" }] },
    { id: 603, type: "structure", title: "Direction", formula: "Ir + a + Lieu", example: "Voy a Madrid", note: "Toujours 'a' apr√®s Ir" },
    { id: 604, type: "swipe", es: "La calle", en: "La rue", context: "Adresse" },
    { id: 605, type: "input", question: "Je vais √† la plage", answer: ["voy a la playa"], hint: "Voy..." }
  ],
  7: [
    { id: 701, type: "swipe", es: "La ropa", en: "Les v√™tements", context: "Mode" },
    { id: 702, type: "swipe", es: "Rojo", en: "Rouge", context: "Couleur" },
    { id: 703, type: "swipe", es: "Azul", en: "Bleu", context: "Couleur" },
    { id: 704, type: "structure", title: "Adjectifs", formula: "Nom + Adjectif", example: "Una camisa roja", note: "L'adjectif s'accorde" },
    { id: 705, type: "input", question: "Une maison blanche", answer: ["una casa blanca"], hint: "Blanca" }
  ],
  8: [
    { id: 801, type: "grammar", title: "Estar (√ätre)", description: "√âtat temporaire / Lieu", conjugation: [{ pronoun: "Yo", verb: "estoy", fr: "Je suis (ici)" }, { pronoun: "T√∫", verb: "est√°s", fr: "Tu es (malade)" }] },
    { id: 802, type: "structure", title: "Ser vs Estar", formula: "Ser=Identit√© / Estar=√âtat", example: "Soy Pablo / Estoy cansado", note: "Essentiel !" },
    { id: 803, type: "swipe", es: "Cansado", en: "Fatigu√©", context: "√âtat" },
    { id: 804, type: "swipe", es: "Enfermo", en: "Malade", context: "Sant√©" },
    { id: 805, type: "input", question: "Je suis fatigu√©", answer: ["estoy cansado"], hint: "Estar" }
  ],
  9: [
    { id: 901, type: "swipe", es: "El cuerpo", en: "Le corps", context: "Anatomie" },
    { id: 902, type: "swipe", es: "La cabeza", en: "La t√™te", context: "Partie du corps" },
    { id: 903, type: "swipe", es: "La mano", en: "La main", context: "Partie du corps" },
    { id: 904, type: "structure", title: "Avoir mal", formula: "Me duele + Corps", example: "Me duele la cabeza", note: "Comme Gustar" },
    { id: 905, type: "input", question: "J'ai mal √† la t√™te", answer: ["me duele la cabeza"], hint: "Me duele..." }
  ],
  10: [
    { id: 1001, type: "swipe", es: "Examen", en: "Examen", context: "Test" },
    { id: 1002, type: "input", question: "Traduis : 'Bonjour'", answer: ["hola"], hint: "H..." },
    { id: 1003, type: "input", question: "Conjugue : Tu es (Estar)", answer: ["est√°s"], hint: "E..." },
    { id: 1004, type: "input", question: "Traduis : 'J'aime'", answer: ["me gusta"], hint: "M... g..." },
    { id: 1005, type: "input", question: "Phrase : Je vais manger", answer: ["voy a comer"], hint: "Futur proche" }
  ],
  11: [{ id: 1101, type: "swipe", es: "El perro", en: "Chien", context: "Animal" }, { id: 1102, type: "swipe", es: "El gato", en: "Chat", context: "Animal" }, { id: 1103, type: "input", question: "Le chat", answer: ["el gato"], hint: "El g..." }],
  12: [{ id: 1201, type: "swipe", es: "Hace sol", en: "Il y a du soleil", context: "M√©t√©o" }, { id: 1202, type: "swipe", es: "Lluvia", en: "Pluie", context: "Temps" }, { id: 1203, type: "grammar", title: "Verbe Hacer (M√©t√©o)", description: "Il fait...", conjugation: [{ pronoun: "Il fait", verb: "Hace", fr: "froid/chaud" }] }],
  13: [{ id: 1301, type: "swipe", es: "La escuela", en: "L'√©cole", context: "√âducation" }, { id: 1302, type: "swipe", es: "El libro", en: "Livre", context: "Lecture" }, { id: 1303, type: "swipe", es: "Aprender", en: "Apprendre", context: "Verbe" }],
  14: [{ id: 1401, type: "swipe", es: "Jugar", en: "Jouer", context: "Jeu" }, { id: 1402, type: "swipe", es: "F√∫tbol", en: "Foot", context: "Sport" }, { id: 1403, type: "structure", title: "Jouer √†", formula: "Jugar + a + al", example: "Juego al f√∫tbol", note: "a + el = al" }],
  
  // --- LE√áONS 15 ET + ENRICHIES (8+ items) ---
  15: [
    { id: 1501, type: "swipe", es: "Amigo", en: "Ami", context: "Relation" },
    { id: 1502, type: "swipe", es: "Fiesta", en: "F√™te", context: "Social" },
    { id: 1503, type: "swipe", es: "Salir", en: "Sortir", context: "Action" },
    { id: 1504, type: "swipe", es: "Bailar", en: "Danser", context: "Activit√©" },
    { id: 1505, type: "swipe", es: "Re√≠r", en: "Rire", context: "√âmotion" },
    { id: 1506, type: "grammar", title: "Verbe Quedar", description: "Se donner rdv", conjugation: [{ pronoun: "Nosotros", verb: "Quedamos", fr: "On se voit" }, { pronoun: "A las 8", verb: "a las ocho", fr: "√† 8h" }] },
    { id: 1507, type: "structure", title: "Proposer", formula: "¬øTe apuntas?", example: "Voy al cine, ¬øte apuntas?", note: "Tu viens avec nous ?" },
    { id: 1508, type: "input", question: "On se voit √† 8h", answer: ["quedamos a las 8", "quedamos a las ocho"], hint: "Quedamos..." }
  ],
  16: [
    { id: 1601, type: "swipe", es: "Feliz", en: "Heureux", context: "Positif" },
    { id: 1602, type: "swipe", es: "Triste", en: "Triste", context: "N√©gatif" },
    { id: 1603, type: "swipe", es: "Enfadado", en: "F√¢ch√©/En col√®re", context: "Conflit" },
    { id: 1604, type: "swipe", es: "Cansado", en: "Fatigu√©", context: "√âtat physique" },
    { id: 1605, type: "swipe", es: "Sorprendido", en: "Surpris", context: "R√©action" },
    { id: 1606, type: "structure", title: "Estar + √âmotion", formula: "Estar + Adjectif", example: "Estoy feliz", note: "√âtat passager (ne jamais utiliser Ser)" },
    { id: 1607, type: "grammar", title: "Ser vs Estar (Rappel)", description: "Soy feliz (caract√®re) vs Estoy feliz (maintenant)", conjugation: [{ pronoun: "Soy", verb: "heureux (nature)", fr: "De nature joyeuse" }, { pronoun: "Estoy", verb: "heureux (√©tat)", fr: "Content l√† de suite" }] },
    { id: 1608, type: "input", question: "Je suis f√¢ch√©", answer: ["estoy enfadado"], hint: "Estar + Enfadado" }
  ],
  17: [
    { id: 1701, type: "swipe", es: "Verano", en: "√ât√©", context: "Saison chaude" },
    { id: 1702, type: "swipe", es: "Invierno", en: "Hiver", context: "Saison froide" },
    { id: 1703, type: "swipe", es: "Primavera", en: "Printemps", context: "Fleurs" },
    { id: 1704, type: "swipe", es: "Oto√±o", en: "Automne", context: "Feuilles" },
    { id: 1705, type: "swipe", es: "Calor", en: "Chaleur", context: "Hace calor" },
    { id: 1706, type: "swipe", es: "Fr√≠o", en: "Froid", context: "Hace fr√≠o" },
    { id: 1707, type: "grammar", title: "M√©t√©o (Hacer)", description: "On utilise 'Faire' + Nom", conjugation: [{ pronoun: "Il fait chaud", verb: "Hace calor", fr: "(Pas 'es caliente')" }, { pronoun: "Il fait froid", verb: "Hace fr√≠o", fr: "Du froid" }] },
    { id: 1708, type: "input", question: "Il fait froid", answer: ["hace fr√≠o"], hint: "H..." }
  ],
  18: [
    { id: 1801, type: "swipe", es: "√Årbol", en: "Arbre", context: "For√™t" },
    { id: 1802, type: "swipe", es: "Mar", en: "Mer", context: "Eau sal√©e" },
    { id: 1803, type: "swipe", es: "Monta√±a", en: "Montagne", context: "Altitude" },
    { id: 1804, type: "swipe", es: "Flor", en: "Fleur", context: "Jardin" },
    { id: 1805, type: "swipe", es: "Cielo", en: "Ciel", context: "Bleu" },
    { id: 1806, type: "swipe", es: "Rio", en: "Rivi√®re/Fleuve", context: "Eau douce" },
    { id: 1807, type: "structure", title: "Exclamation", formula: "¬°Qu√© + Nom/Adj!", example: "¬°Qu√© bonito! (Que c'est beau !)", note: "Pour exprimer l'admiration." },
    { id: 1808, type: "input", question: "La mer est bleue", answer: ["el mar es azul"], hint: "El mar..." }
  ],
  19: [
    { id: 1901, type: "swipe", es: "Qu√©", en: "Quoi/Quel", context: "Objet" },
    { id: 1902, type: "swipe", es: "D√≥nde", en: "O√π", context: "Lieu" },
    { id: 1903, type: "swipe", es: "Cu√°ndo", en: "Quand", context: "Temps" },
    { id: 1904, type: "swipe", es: "Qui√©n", en: "Qui", context: "Personne" },
    { id: 1905, type: "swipe", es: "Por qu√©", en: "Pourquoi", context: "Cause" },
    { id: 1906, type: "swipe", es: "Cu√°nto", en: "Combien", context: "Quantit√©" },
    { id: 1907, type: "grammar", title: "L'accentuation", description: "Les interrogatifs portent TOUJOURS un accent", conjugation: [{ pronoun: "Que (relatif)", verb: "que", fr: "Le livre que..." }, { pronoun: "Quoi (question)", verb: "qu√©", fr: "¬øQu√© haces?" }] },
    { id: 1908, type: "input", question: "Qui es-tu ?", answer: ["qui√©n eres", "¬øqui√©n eres?"], hint: "Q..." }
  ],
  20: [
    { id: 2001, type: "structure", title: "BILAN A1", formula: "Bravo !", example: "Niveau 1 valid√©", note: "Pr√™t pour A2 ?" },
    { id: 2002, type: "input", question: "O√π habites-tu ?", answer: ["d√≥nde vives", "¬ød√≥nde vives?"], hint: "D..." },
    { id: 2003, type: "input", question: "Il fait chaud", answer: ["hace calor"], hint: "Hace..." },
    { id: 2004, type: "input", question: "Mon ami", answer: ["mi amigo"], hint: "Mi..." },
    { id: 2005, type: "input", question: "Je ne mange pas", answer: ["no como"], hint: "No..." },
    { id: 2006, type: "input", question: "Nous parlons", answer: ["hablamos"], hint: "-amos" },
    { id: 2007, type: "input", question: "Je suis fatigu√©", answer: ["estoy cansado"], hint: "Estar" },
    { id: 2008, type: "swipe", es: "¬°Vamos!", en: "On y va !", context: "Motivation" }
  ],
  
  // --- NIVEAU A2 (D√©but) ---
  21: [
    { id: 2101, type: "structure", title: "Le Pass√© Compos√©", formula: "Haber + Participe", example: "He comido (J'ai mang√©)", note: "Pass√© r√©cent ou reli√© au pr√©sent." },
    { id: 2102, type: "grammar", title: "Haber (Auxiliaire)", description: "Pr√©sent de l'indicatif", conjugation: [{ pronoun: "Yo he", verb: "Nos hemos", fr: "J'ai / Nous avons" }, { pronoun: "T√∫ has", verb: "Vos hab√©is", fr: "Tu as / Vous avez" }, { pronoun: "√âl ha", verb: "Ellos han", fr: "Il a / Ils ont" }] },
    { id: 2103, type: "swipe", es: "Hablado", en: "Parl√©", context: "Participe -AR" },
    { id: 2104, type: "swipe", es: "Comido", en: "Mang√©", context: "Participe -ER" },
    { id: 2105, type: "swipe", es: "Vivido", en: "V√©cu", context: "Participe -IR" },
    { id: 2106, type: "structure", title: "Participe Irr√©gulier", formula: "Hacer -> Hecho", example: "He hecho", note: "J'ai fait" },
    { id: 2107, type: "swipe", es: "Visto", en: "Vu", context: "Irr√©gulier (Ver)" },
    { id: 2108, type: "input", question: "J'ai parl√©", answer: ["he hablado"], hint: "He..." }
  ],
  22: [
    { id: 2201, type: "grammar", title: "L'Imparfait -AR", description: "Habitudes pass√©es", conjugation: [{ pronoun: "Yo", verb: "aba", fr: "ais" }, { pronoun: "T√∫", verb: "abas", fr: "ais" }, { pronoun: "Nos", verb: "√°bamos", fr: "ions" }] },
    { id: 2202, type: "swipe", es: "Jugaba", en: "Je jouais", context: "Quand j'√©tais petit" },
    { id: 2203, type: "swipe", es: "Estudiaba", en: "J'√©tudiais", context: "√Ä l'√©cole" },
    { id: 2204, type: "swipe", es: "Caminaba", en: "Je marchais", context: "Tous les jours" },
    { id: 2205, type: "structure", title: "Quand j'√©tais petit...", formula: "Cuando era peque√±o...", example: "Jugaba al f√∫tbol", note: "Contexte classique de l'imparfait." },
    { id: 2206, type: "swipe", es: "Antes", en: "Avant", context: "Marqueur temporel" },
    { id: 2207, type: "input", question: "Je parlais (Imparfait)", answer: ["hablaba"], hint: "-aba" },
    { id: 2208, type: "input", question: "Nous jouions", answer: ["jug√°bamos"], hint: "Jugar -> aba" }
  ],
  23: [
    { id: 2301, type: "structure", title: "Futur Proche", formula: "Ir a + Infinitif", example: "Voy a comer", note: "Je vais manger (tr√®s courant)" },
    { id: 2302, type: "swipe", es: "Pronto", en: "Bient√¥t", context: "Temps" },
    { id: 2303, type: "swipe", es: "Luego", en: "Plus tard/Ensuite", context: "Hasta luego" },
    { id: 2304, type: "swipe", es: "Este fin de semana", en: "Ce week-end", context: "Plan" },
    { id: 2305, type: "grammar", title: "Ir (Rappel)", description: "Voy, Vas, Va, Vamos, Vais, Van", conjugation: [{ pronoun: "Nosotros", verb: "Vamos a salir", fr: "Nous allons sortir" }] },
    { id: 2306, type: "input", question: "Je vais sortir", answer: ["voy a salir"], hint: "Salir" },
    { id: 2307, type: "input", question: "Tu vais manger", answer: ["vas a comer"], hint: "Ir a..." },
    { id: 2308, type: "structure", title: "N√©gation Futur", formula: "No voy a...", example: "No voy a hacerlo", note: "Je ne vais pas le faire." }
  ],
  24: [
    { id: 2401, type: "structure", title: "Comparaison (+)", formula: "M√°s ... que", example: "M√°s alto que t√∫", note: "Plus ... que" },
    { id: 2402, type: "structure", title: "Comparaison (-)", formula: "Menos ... que", example: "Menos rico que", note: "Moins ... que" },
    { id: 2403, type: "structure", title: "Comparaison (=)", formula: "Tan ... como", example: "Tan guapo como", note: "Aussi ... que" },
    { id: 2404, type: "swipe", es: "Mejor", en: "Meilleur/Mieux", context: "Sup√©riorit√© (Irr√©gulier)" },
    { id: 2405, type: "swipe", es: "Peor", en: "Pire", context: "Inf√©riorit√© (Irr√©gulier)" },
    { id: 2406, type: "swipe", es: "Mayor", en: "Plus √¢g√©/Grand", context: "Mi hermano mayor" },
    { id: 2407, type: "swipe", es: "Menor", en: "Plus jeune/Petit", context: "Mi hermana menor" },
    { id: 2408, type: "input", question: "Plus grand que", answer: ["m√°s grande que"], hint: "M√°s..." }
  ],
  25: [
    { id: 2501, type: "structure", title: "Obligation Personnelle", formula: "Tener que + Infinitif", example: "Tengo que estudiar", note: "Je dois (c'est mon devoir)" },
    { id: 2502, type: "structure", title: "Obligation Impersonnelle", formula: "Hay que + Infinitif", example: "Hay que comer", note: "Il faut manger (g√©n√©ral)" },
    { id: 2503, type: "swipe", es: "Deber", en: "Devoir", context: "Verbe moral" },
    { id: 2504, type: "swipe", es: "Necesitar", en: "Avoir besoin", context: "N√©cessit√©" },
    { id: 2505, type: "swipe", es: "Urgente", en: "Urgent", context: "Priorit√©" },
    { id: 2506, type: "input", question: "Je dois manger", answer: ["tengo que comer"], hint: "Tengo..." },
    { id: 2507, type: "input", question: "Il faut dormir", answer: ["hay que dormir"], hint: "Hay que..." },
    { id: 2508, type: "grammar", title: "Tener (Rappel)", description: "Tengo, Tienes, Tiene...", conjugation: [{ pronoun: "Nosotros", verb: "Tenemos que irnos", fr: "Nous devons partir" }] }
  ]
};

// ... Le reste de CONTENT_PART_1 (le√ßons 26 √† 100) est g√©n√©r√© ou existe d√©j√† ...
// Je rajoute la fonction de g√©n√©ration am√©lior√©e ci-dessous

export const generateStructuredLesson = (id) => {
  let level = "A1";
  let config = { topic: "Th√®me G√©n√©ral", grammar: "Grammaire" };

  if (id <= 20) { level = "A1"; config = CURRICULUM_LOGIC.A1[id - 1] || { topic: "R√©vision", grammar: "Mix" }; }
  else if (id <= 40) { level = "A2"; config = CURRICULUM_LOGIC.A2[id - 21] || { topic: "Avanc√© A2", grammar: "Mix" }; }
  else if (id <= 60) { level = "B1"; config = CURRICULUM_LOGIC.B1[id - 41] || { topic: "Expert B1", grammar: "Mix" }; }
  else if (id <= 80) { level = "B2"; config = CURRICULUM_LOGIC.B2[id - 61] || { topic: "R√©vision B2", grammar: "Mix" }; }
  else { level = "C1"; config = CURRICULUM_LOGIC.C1[id - 81] || { topic: "Perfectionnement C1", grammar: "Expert" }; }

  const verbsCount = DATA_BANK.verbs.length;
  const verbIdx = id % verbsCount;
  const isPluralCycle = Math.floor(id / verbsCount) % 2 !== 0; 

  const randVerb = DATA_BANK.verbs[verbIdx];
  // On prend plus de mots pour enrichir la le√ßon
  const randNoun = DATA_BANK.nouns[id % DATA_BANK.nouns.length];
  const randNoun2 = DATA_BANK.nouns[(id + 3) % DATA_BANK.nouns.length];
  const randNoun3 = DATA_BANK.nouns[(id + 7) % DATA_BANK.nouns.length]; // Nouveau mot
  const randAdj = DATA_BANK.adjectives[id % DATA_BANK.adjectives.length];
  const randConn = DATA_BANK.connectors[id % DATA_BANK.connectors.length];
  
  const tipIdx = id % DATA_BANK.tips.length;
  const randTip = DATA_BANK.tips[tipIdx];

  let cardId = id * 1000;

  const grammarTitle = isPluralCycle ? `Verbe : ${randVerb.es} (Pluriel)` : `Verbe : ${randVerb.es} (Singulier)`;
  const grammarDesc = isPluralCycle ? "Nous / Vous / Ils" : "Je / Tu / Il";
  
  const grammarConjugation = isPluralCycle 
    ? [
        { pronoun: "Nosotros", verb: randVerb.nos, fr: `Nous ${randVerb.en.toLowerCase()}ons` },
        { pronoun: "Vosotros", verb: randVerb.vos, fr: `Vous ${randVerb.en.toLowerCase()}ez` },
        { pronoun: "Ellos", verb: randVerb.ellos, fr: `Ils ${randVerb.en.toLowerCase()}ent` }
      ]
    : [
        { pronoun: "Yo", verb: randVerb.yo, fr: `Je ${randVerb.en.toLowerCase()}` },
        { pronoun: "T√∫", verb: randVerb.tu, fr: `Tu ${randVerb.en.toLowerCase()}s` },
        { pronoun: "√âl/Ella", verb: randVerb.el, fr: `Il/Elle ${randVerb.en.toLowerCase()}` }
      ];

  const exerciseQuestion = isPluralCycle ? `Vous ${randVerb.en.toLowerCase()}ez` : `Il ${randVerb.en.toLowerCase()}`;
  const exerciseAnswer = isPluralCycle ? [randVerb.vos.toLowerCase()] : [randVerb.el.toLowerCase()];

  // G√âN√âRATION DE 10 CARTES GARANTIES
  return [
    { id: cardId++, type: "structure", title: `Le√ßon ${id} : ${config.topic}`, formula: config.grammar, example: `Focus : ${randVerb.es}`, note: `Niveau ${level}` },
    { id: cardId++, type: "swipe", es: randNoun.es, en: randNoun.en, context: "Vocabulaire cl√©" },
    { id: cardId++, type: "grammar", title: grammarTitle, description: grammarDesc, conjugation: grammarConjugation },
    { id: cardId++, type: "input", question: exerciseQuestion, answer: exerciseAnswer, hint: `Verbe ${randVerb.es}` },
    { id: cardId++, type: "swipe", es: randAdj.es, en: randAdj.en, context: "Adjectif utile" },
    { id: cardId++, type: "structure", title: "L'accord", formula: "Nom + Adjectif", example: `${randNoun.es} ${randAdj.es.toLowerCase()}`, note: "L'adjectif s'accorde en genre et nombre." },
    { id: cardId++, type: "swipe", es: randNoun2.es, en: randNoun2.en, context: "Vocabulaire extra" },
    { id: cardId++, type: "swipe", es: randNoun3.es, en: randNoun3.en, context: "Nouveau mot" }, // Ajout√©
    { id: cardId++, type: "swipe", es: randConn.es, en: randConn.en, context: "Mot de liaison" },
    { id: cardId++, type: "structure", title: "Astuce Pro üí°", formula: "Culture & Langue", example: randTip, note: "Bon √† savoir !" },
    { 
      id: cardId++, 
      type: "structure", 
      title: "Phrase Compl√®te", 
      formula: "Sujet + Verbe + Compl√©ment", 
      example: isPluralCycle 
        ? `Vosotros ${randVerb.vos.toLowerCase()} ${randNoun.es.toLowerCase()}`
        : `√âl ${randVerb.el.toLowerCase()} ${randNoun.es.toLowerCase()}`,
      note: "R√©p√®te √† voix haute pour la prononciation." 
    },
    { id: cardId++, type: "input", question: `Traduis '${randNoun.en}'`, answer: [randNoun.es.toLowerCase()], hint: `${randNoun.es.substring(0,3)}...` }
  ];
};

export const generateSmartTest = (completedLessons, userVocab) => {
  const questions = [];
  let qId = 9900;

  if (userVocab && userVocab.length > 0) {
     const target = userVocab.filter(v => v.type === 'swipe').sort(() => 0.5 - Math.random()).slice(0, 5);
     target.forEach(w => questions.push({
         id: qId++, type: 'input', question: `Traduis '${w.en}' en espagnol`, answer: [w.es.toLowerCase()], hint: w.es.substring(0,1)+"..." 
     }));
  }

  if (completedLessons.includes(1)) questions.push({ id: qId++, type: 'input', question: "Je suis (Ser)", answer: ["soy"], hint: "S..." });
  if (completedLessons.includes(2)) questions.push({ id: qId++, type: 'input', question: "Tu as (Tener)", answer: ["tienes"], hint: "T..." });
  if (completedLessons.includes(3)) questions.push({ id: qId++, type: 'input', question: "N√©gation : Je ne parle pas", answer: ["no hablo"], hint: "No..." });
  if (completedLessons.includes(5)) questions.push({ id: qId++, type: 'input', question: "Futur : Je vais manger", answer: ["voy a comer"], hint: "Voy a..." });
  
  if (questions.length === 0) questions.push({ id: qId++, type: 'input', question: "Bonjour", answer: ["hola"], hint: "H..." });
  
  return questions.sort(() => 0.5 - Math.random());
};

export const SENTENCE_STRUCTURES = [
  { id: 1, title: "La Phrase Simple", formula: "Sujet + Verbe", example_es: "(Yo) como.", example_en: "Je mange.", explanation: "Sujet souvent omis." },
  { id: 2, title: "N√©gation", formula: "No + Verbe", example_es: "No hablo.", example_en: "Je ne parle pas.", explanation: "Simple 'No' devant." },
  { id: 3, title: "Le Futur Proche", formula: "Ir + a + Infinitif", example_es: "Voy a comer.", example_en: "Je vais manger.", explanation: "Tr√®s courant √† l'oral." }
];

export const generateAllContent = () => {
  const content = { ...CONTENT_PART_1 };
  // On g√©n√®re la suite automatiquement si elle n'est pas d√©finie manuellement
  for (let i = 1; i <= 100; i++) {
     if (!content[i]) {
        content[i] = generateStructuredLesson(i);
     }
  }
  return content;
};

export const INITIAL_LESSONS_CONTENT = generateAllContent();

export const INITIAL_LESSONS_LIST = [];
let idCounter = 1;
const levels = ["A1", "A2", "B1", "B2", "C1"];
levels.forEach(lvl => {
    for(let i=0; i<20; i++) {
        let topic = "Pratique";
        // On r√©cup√®re le titre du topic depuis CURRICULUM_LOGIC pour l'afficher dans le menu
        if (lvl === "A1" && CURRICULUM_LOGIC.A1[i]) topic = CURRICULUM_LOGIC.A1[i].topic;
        if (lvl === "A2" && CURRICULUM_LOGIC.A2[i]) topic = CURRICULUM_LOGIC.A2[i].topic;
        if (lvl === "B1" && CURRICULUM_LOGIC.B1[i]) topic = CURRICULUM_LOGIC.B1[i].topic;
        if (lvl === "B2" && CURRICULUM_LOGIC.B2[i]) topic = CURRICULUM_LOGIC.B2[i].topic;
        if (lvl === "C1" && CURRICULUM_LOGIC.C1[i]) topic = CURRICULUM_LOGIC.C1[i].topic;
        
        INITIAL_LESSONS_LIST.push({ id: idCounter++, title: topic, level: lvl, desc: "Cours complet" });
    }
});

export const generateExamContent = (allContent, startId, endId, levelName, examId) => {
  let pool = [];
  
  // 1. On r√©cup√®re tout le contenu des le√ßons du niveau
  for (let i = startId; i <= endId; i++) {
    if (allContent[i]) {
      // On garde uniquement le vocabulaire (swipe) et les exercices (input)
      const validCards = allContent[i].filter(c => c.type === 'swipe' || c.type === 'input');
      pool = [...pool, ...validCards];
    }
  }

  // 2. S√©curit√© : si pas assez de contenu
  if (pool.length < 10) {
    return [
      { id: examId * 1000, type: "structure", title: `EXAMEN ${levelName}`, formula: "Erreur", example: "Contenu insuffisant", note: "Contacte le support." }
    ];
  }

  // 3. Tirage au sort de 20 questions
  const selectedQuestions = pool.sort(() => 0.5 - Math.random()).slice(0, 20);

  // 4. Formatage pour l'examen
  const examContent = [
    { 
      id: examId * 1000, 
      type: "structure", 
      title: `EXAMEN ${levelName}`, 
      formula: "Passage de Niveau", 
      example: "20 Questions", 
      note: "Objectif : 16/20 minimum !" 
    },
    ...selectedQuestions.map((item, index) => ({
      ...item,
      id: (examId * 1000) + index + 1, 
      // Si c'est une carte 'input', on garde la question, sinon on adapte le vocabulaire
      type: 'input', // On force tout en mode 'input' (question/r√©ponse) pour l'examen ? Ou on mixe ? 
      // Mieux : on garde le type original mais pour 'swipe', on le transforme en question QCM ou Input.
      // Pour faire simple ici, on transforme les cartes 'swipe' en 'input' de traduction.
      question: item.type === 'input' ? item.question : `Traduis "${item.en}"`,
      answer: item.type === 'input' ? item.answer : [item.es.toLowerCase()],
      hint: item.type === 'input' ? item.hint : "..."
    }))
  ];

  return examContent;
};